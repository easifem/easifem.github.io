"use strict";(self.webpackChunkeasifem_docs=self.webpackChunkeasifem_docs||[]).push([[50342],{30774:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>u,contentTitle:()=>c,default:()=>f,frontMatter:()=>o,metadata:()=>r,toc:()=>d});const r=JSON.parse('{"id":"CSRMatrix/GetILUK","title":"GetILUK","description":"This routine returns the ILU WITH LEVEL OF FILL-IN OF K (ILU(k))","source":"@site/docs/docs-api/CSRMatrix/GetILUK.md","sourceDirName":"CSRMatrix","slug":"/CSRMatrix/GetILUK","permalink":"/docs-api/CSRMatrix/GetILUK","draft":false,"unlisted":false,"editUrl":"https://github.com/easifem/easifem.github.io/tree/main/docs/docs-api/CSRMatrix/GetILUK.md","tags":[],"version":"current","lastUpdatedAt":1724304782000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"GetILUDP","permalink":"/docs-api/CSRMatrix/GetILUDP"},"next":{"title":"GetILUT","permalink":"/docs-api/CSRMatrix/GetILUT"}}');var a=n(23420),i=n(54213),l=n(36492),s=n(92492);const o={},c="GetILUK",u={},d=[{value:"Interface",id:"interface",level:2}];function h(e){const t={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(t.header,{children:(0,a.jsx)(t.h1,{id:"getiluk",children:"GetILUK"})}),"\n",(0,a.jsx)(t.p,{children:"This routine returns the ILU WITH LEVEL OF FILL-IN OF K (ILU(k))"}),"\n","\n",(0,a.jsx)(t.h2,{id:"interface",children:"Interface"}),"\n",(0,a.jsxs)(l.A,{children:[(0,a.jsxs)(s.A,{value:"interface",label:"\ud83d\udcdd Interface 1",default:!0,children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-fortran",children:"INTERFACE\n  MODULE SUBROUTINE GetILUK(obj, ALU, JLU, JU, lfil, LEVS)\n    TYPE(CSRMatrix_), INTENT(INOUT) :: obj\n    REAL(DFP), ALLOCATABLE, INTENT(INOUT) :: ALU(:)\n    INTEGER(I4B), ALLOCATABLE, INTENT(INOUT) :: JLU(:)\n    INTEGER(I4B), ALLOCATABLE, INTENT(INOUT) :: JU(:)\n    INTEGER(I4B), INTENT(IN) :: lfil\n    INTEGER(I4B), ALLOCATABLE, INTENT(INOUT) :: LEVS(:)\n  END SUBROUTINE GetILUK\nEND INTERFACE\n"})}),(0,a.jsxs)(t.ul,{children:["\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"lfil"})," is the fill-in parameter. Each element whose leve-of-fill exceeds lfil during the ILU process is dropped. lfil must be .ge. 0"]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"droptol"})," Sets the threshold for dropping small terms in the factorization. See below for details on dropping strategy."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"ALU,JLU"})," = matrix stored in Modified Sparse Row (MSR) format containing the L and U factors together. The diagonal (stored in alu(1",":n",") ) is inverted. Each i-th row of the ",(0,a.jsx)(t.code,{children:"ALU,JLU"})," matrix contains the i-th row of L (excluding the diagonal entry=1) followed by the i-th row of ",(0,a.jsx)(t.code,{children:"U"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"JU"})," = integer array of length n containing the pointers to the beginning of each row of ",(0,a.jsx)(t.code,{children:"U"})," in the matrix ",(0,a.jsx)(t.code,{children:"ALU,JLU"}),"."]}),"\n",(0,a.jsxs)(t.li,{children:[(0,a.jsx)(t.code,{children:"LEVS"})," = integer (work) array of size ",(0,a.jsx)(t.code,{children:"IWK"}),", which contains the levels of each element in ",(0,a.jsx)(t.code,{children:"ALU, JLU"}),"."]}),"\n"]}),(0,a.jsx)(t.admonition,{type:"caution",children:(0,a.jsx)(t.p,{children:"This is not implemented efficiently storage-wise. For example: Only the part of the array levs associated with the U-matrix is needed in the routine. So some storage can be saved if needed. The levels of fills in the LU matrix are output for information only, they are not needed by LU-solve."})})]}),(0,a.jsxs)(s.A,{value:"iface2",label:"interface 2",children:[(0,a.jsx)(t.pre,{children:(0,a.jsx)(t.code,{className:"language-fortran",children:"INTERFACE\n  MODULE SUBROUTINE GetILUK(obj, Pmat, lfil, LEVS)\n    TYPE(CSRMatrix_), INTENT(INOUT) :: obj\n    TYPE(CSRMatrix_), INTENT(INOUT) :: Pmat\n    INTEGER(I4B), INTENT(IN) :: lfil\n    INTEGER(I4B), ALLOCATABLE, INTENT(INOUT) :: LEVS(:)\n  END SUBROUTINE GetILUK\nEND INTERFACE\n"})}),(0,a.jsxs)(t.p,{children:["This routine is similar to the interface 1, but in this routine ILU factorization is returned as an instance of ",(0,a.jsx)(t.code,{children:"CSRMatrix_"}),"."]})]}),(0,a.jsx)(s.A,{value:"close",label:"\u25c9 Close"})]})]})}function f(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,a.jsx)(t,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},92492:(e,t,n)=>{n.d(t,{A:()=>l});n(36672);var r=n(28923);const a={tabItem:"tabItem_VSPN"};var i=n(23420);function l(e){let{children:t,hidden:n,className:l}=e;return(0,i.jsx)("div",{role:"tabpanel",className:(0,r.A)(a.tabItem,l),hidden:n,children:t})}},36492:(e,t,n)=>{n.d(t,{A:()=>N});var r=n(36672),a=n(28923),i=n(19929),l=n(85291),s=n(5581),o=n(80034),c=n(12715),u=n(62741);function d(e){return r.Children.toArray(e).filter((e=>"\n"!==e)).map((e=>{if(!e||(0,r.isValidElement)(e)&&function(e){const{props:t}=e;return!!t&&"object"==typeof t&&"value"in t}(e))return e;throw new Error(`Docusaurus error: Bad <Tabs> child <${"string"==typeof e.type?e.type:e.type.name}>: all children of the <Tabs> component should be <TabItem>, and every <TabItem> should have a unique "value" prop.`)}))?.filter(Boolean)??[]}function h(e){const{values:t,children:n}=e;return(0,r.useMemo)((()=>{const e=t??function(e){return d(e).map((e=>{let{props:{value:t,label:n,attributes:r,default:a}}=e;return{value:t,label:n,attributes:r,default:a}}))}(n);return function(e){const t=(0,c.XI)(e,((e,t)=>e.value===t.value));if(t.length>0)throw new Error(`Docusaurus error: Duplicate values "${t.map((e=>e.value)).join(", ")}" found in <Tabs>. Every value needs to be unique.`)}(e),e}),[t,n])}function f(e){let{value:t,tabValues:n}=e;return n.some((e=>e.value===t))}function p(e){let{queryString:t=!1,groupId:n}=e;const a=(0,l.W6)(),i=function(e){let{queryString:t=!1,groupId:n}=e;if("string"==typeof t)return t;if(!1===t)return null;if(!0===t&&!n)throw new Error('Docusaurus error: The <Tabs> component groupId prop is required if queryString=true, because this value is used as the search param name. You can also provide an explicit value such as queryString="my-search-param".');return n??null}({queryString:t,groupId:n});return[(0,o.aZ)(i),(0,r.useCallback)((e=>{if(!i)return;const t=new URLSearchParams(a.location.search);t.set(i,e),a.replace({...a.location,search:t.toString()})}),[i,a])]}function m(e){const{defaultValue:t,queryString:n=!1,groupId:a}=e,i=h(e),[l,o]=(0,r.useState)((()=>function(e){let{defaultValue:t,tabValues:n}=e;if(0===n.length)throw new Error("Docusaurus error: the <Tabs> component requires at least one <TabItem> children component");if(t){if(!f({value:t,tabValues:n}))throw new Error(`Docusaurus error: The <Tabs> has a defaultValue "${t}" but none of its children has the corresponding value. Available values are: ${n.map((e=>e.value)).join(", ")}. If you intend to show no default tab, use defaultValue={null} instead.`);return t}const r=n.find((e=>e.default))??n[0];if(!r)throw new Error("Unexpected error: 0 tabValues");return r.value}({defaultValue:t,tabValues:i}))),[c,d]=p({queryString:n,groupId:a}),[m,I]=function(e){let{groupId:t}=e;const n=function(e){return e?`docusaurus.tab.${e}`:null}(t),[a,i]=(0,u.Dv)(n);return[a,(0,r.useCallback)((e=>{n&&i.set(e)}),[n,i])]}({groupId:a}),b=(()=>{const e=c??m;return f({value:e,tabValues:i})?e:null})();(0,s.A)((()=>{b&&o(b)}),[b]);return{selectedValue:l,selectValue:(0,r.useCallback)((e=>{if(!f({value:e,tabValues:i}))throw new Error(`Can't select invalid tab value=${e}`);o(e),d(e),I(e)}),[d,I,i]),tabValues:i}}var I=n(32111);const b={tabList:"tabList_csSQ",tabItem:"tabItem_Bcmo"};var x=n(23420);function T(e){let{className:t,block:n,selectedValue:r,selectValue:l,tabValues:s}=e;const o=[],{blockElementScrollPositionUntilNextRender:c}=(0,i.a_)(),u=e=>{const t=e.currentTarget,n=o.indexOf(t),a=s[n].value;a!==r&&(c(t),l(a))},d=e=>{let t=null;switch(e.key){case"Enter":u(e);break;case"ArrowRight":{const n=o.indexOf(e.currentTarget)+1;t=o[n]??o[0];break}case"ArrowLeft":{const n=o.indexOf(e.currentTarget)-1;t=o[n]??o[o.length-1];break}}t?.focus()};return(0,x.jsx)("ul",{role:"tablist","aria-orientation":"horizontal",className:(0,a.A)("tabs",{"tabs--block":n},t),children:s.map((e=>{let{value:t,label:n,attributes:i}=e;return(0,x.jsx)("li",{role:"tab",tabIndex:r===t?0:-1,"aria-selected":r===t,ref:e=>{o.push(e)},onKeyDown:d,onClick:u,...i,className:(0,a.A)("tabs__item",b.tabItem,i?.className,{"tabs__item--active":r===t}),children:n??t},t)}))})}function E(e){let{lazy:t,children:n,selectedValue:i}=e;const l=(Array.isArray(n)?n:[n]).filter(Boolean);if(t){const e=l.find((e=>e.props.value===i));return e?(0,r.cloneElement)(e,{className:(0,a.A)("margin-top--md",e.props.className)}):null}return(0,x.jsx)("div",{className:"margin-top--md",children:l.map(((e,t)=>(0,r.cloneElement)(e,{key:t,hidden:e.props.value!==i})))})}function L(e){const t=m(e);return(0,x.jsxs)("div",{className:(0,a.A)("tabs-container",b.tabList),children:[(0,x.jsx)(T,{...t,...e}),(0,x.jsx)(E,{...t,...e})]})}function N(e){const t=(0,I.A)();return(0,x.jsx)(L,{...e,children:d(e.children)},String(t))}},54213:(e,t,n)=>{n.d(t,{R:()=>l,x:()=>s});var r=n(36672);const a={},i=r.createContext(a);function l(e){const t=r.useContext(i);return r.useMemo((function(){return"function"==typeof e?e(t):{...t,...e}}),[t,e])}function s(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:l(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);