"use strict";(self.webpackChunkeasifem_docs=self.webpackChunkeasifem_docs||[]).push([[53582],{87458:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>d,contentTitle:()=>l,default:()=>h,frontMatter:()=>r,metadata:()=>t,toc:()=>c});const t=JSON.parse('{"id":"TriangleInterface/triangulate","title":"triangulate","description":"triswitches","source":"@site/docs/docs-api/TriangleInterface/triangulate.md","sourceDirName":"TriangleInterface","slug":"/TriangleInterface/triangulate","permalink":"/docs-api/TriangleInterface/triangulate","draft":false,"unlisted":false,"editUrl":"https://github.com/easifem/easifem.github.io/tree/main/docs/docs-api/TriangleInterface/triangulate.md","tags":[],"version":"current","lastUpdatedAt":1724304782000,"frontMatter":{},"sidebar":"tutorialSidebar","previous":{"title":"Switches","permalink":"/docs-api/TriangleInterface/switches"},"next":{"title":"triangulateio","permalink":"/docs-api/TriangleInterface/triangulateio"}}');var s=n(23420),o=n(54213);const r={},l="triangulate",d={},c=[{value:"triswitches",id:"triswitches",level:2},{value:"in, out, vorout",id:"in-out-vorout",level:2},{value:"Caution regarding memory allocation",id:"caution-regarding-memory-allocation",level:2},{value:"In",id:"in",level:2},{value:"Out",id:"out",level:2},{value:"Vorout",id:"vorout",level:2},{value:"Final comments",id:"final-comments",level:2}];function a(e){const i={admonition:"admonition",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,o.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"triangulate",children:"triangulate"})}),"\n",(0,s.jsx)(i.pre,{children:(0,s.jsx)(i.code,{className:"language-c",children:"void triangulate(triswitches, in, out, vorout)\nchar triswitches;                            \nstruct triangulateio in;                    \nstruct triangulateio out;                  \nstruct triangulateio vorout;\n"})}),"\n",(0,s.jsx)(i.h2,{id:"triswitches",children:"triswitches"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"triswitches"})," is a string containing the command line switches you wish to invoke. No initial dash is required. Some suggestions:"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["You'll probably find it convenient to use the ",(0,s.jsx)(i.code,{children:"z"})," switch so that points (and other items) are numbered from zero. This simplifies indexing, because the first item of any type always starts at index ",(0,s.jsx)(i.code,{children:"[0]"})," of the corresponding array, whether that item's number is zero or one."]}),"\n",(0,s.jsxs)(i.li,{children:["You'll probably want to use the ",(0,s.jsx)(i.code,{children:"Q"})," switch in your final code, but you can take advantage of Triangle's printed output (including the",(0,s.jsx)(i.code,{children:"V"})," switch) while debugging."]}),"\n",(0,s.jsxs)(i.li,{children:["If you are not using the ",(0,s.jsx)(i.code,{children:"q"}),", ",(0,s.jsx)(i.code,{children:"a"}),", ",(0,s.jsx)(i.code,{children:"u"}),", ",(0,s.jsx)(i.code,{children:"D"}),", ",(0,s.jsx)(i.code,{children:"j"}),", or ",(0,s.jsx)(i.code,{children:"s"})," switches, then the output points will be identical to the input points, except possibly for the boundary markers. If you don't need the boundary markers, you should use the ",(0,s.jsx)(i.code,{children:"N"})," (no nodes output) switch to save memory."]}),"\n",(0,s.jsxs)(i.li,{children:["The ",(0,s.jsx)(i.code,{children:"I"})," (no iteration numbers) and",(0,s.jsx)(i.code,{children:"g"})," (.off file output) switches have no effect when Triangle is compiled with ",(0,s.jsx)(i.code,{children:"TRILIBRARY"})," defined."]}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsxs)(i.p,{children:["If you do need boundary markers, but need to save memory, a good nasty trick is to set ",(0,s.jsx)(i.code,{children:"iout->pointlist"})," equal to ",(0,s.jsx)(i.code,{children:"in->pointlist"})," before calling ",(0,s.jsx)(i.code,{children:"triangulate()"}),", so that Triangle overwrites the input points with identical copies."]})}),"\n",(0,s.jsx)(i.h2,{id:"in-out-vorout",children:"in, out, vorout"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"in"}),", ",(0,s.jsx)(i.code,{children:"out"}),", and ",(0,s.jsx)(i.code,{children:"vorout"})," are descriptions of the input, the output, and the Voronoi output."]}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsxs)(i.p,{children:["If the ",(0,s.jsx)(i.code,{children:"v"})," (Voronoi output) switch is not used,",(0,s.jsx)(i.code,{children:"vorout"})," may be NULL. ",(0,s.jsx)(i.code,{children:"in"})," and ",(0,s.jsx)(i.code,{children:"out"})," may never be NULL."]})}),"\n",(0,s.jsx)(i.p,{children:"Certain fields of the input and output structures must be initialized, as described below."}),"\n",(0,s.jsx)(i.h2,{id:"caution-regarding-memory-allocation",children:"Caution regarding memory allocation"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Any input fields that Triangle will examine must be initialized."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"Furthermore, for each output array that Triangle will write to, you must either provide space by setting the appropriate pointer to point to the space you want the data written to, or you must initialize the pointer to NULL, which tells Triangle to allocate space for the results."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"The latter option is preferable, because Triangle always knows exactly how much space to allocate."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsx)(i.p,{children:"The former option is provided mainly for people who need to call Triangle from Fortran code, though it also makes possible some nasty space-saving tricks, like writing the output to the same arrays as the input."}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["Triangle will not ",(0,s.jsx)(i.code,{children:"free()"})," any input or output arrays, including those it allocates itself; that's up to you."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["You should free arrays allocated by Triangle by calling the ",(0,s.jsx)(i.code,{children:"trifree()"})," procedure defined below."]}),"\n"]}),"\n",(0,s.jsxs)(i.li,{children:["\n",(0,s.jsxs)(i.p,{children:["By default, ",(0,s.jsx)(i.code,{children:"trifree()"})," just calls the standard free() library procedure, but applications that call ",(0,s.jsx)(i.code,{children:"triangulate()"})," may replace ",(0,s.jsx)(i.code,{children:"trimalloc()"})," and ",(0,s.jsx)(i.code,{children:"trifree()"})," in triangle.c to use specialized memory allocators."]}),"\n"]}),"\n"]}),"\n",(0,s.jsx)(i.p,{children:"Here's a guide to help you decide which fields you must initialize before you call triangulate()."}),"\n",(0,s.jsx)(i.h2,{id:"in",children:"In"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pointlist"})," must always point to a list of points; ",(0,s.jsx)(i.code,{children:"numberofpoints"})," and ",(0,s.jsx)(i.code,{children:"numberofpointattributes"})," must be properly set."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pointmarkerlist"})," must either be set to NULL (in which case all markers default to zero), or must point to a list of markers."]}),"\n"]}),"\n",(0,s.jsx)(i.admonition,{type:"note",children:(0,s.jsxs)(i.p,{children:["If ",(0,s.jsx)(i.code,{children:"numberofpointattributes"})," is not zero, ",(0,s.jsx)(i.code,{children:"pointattributelist"})," must point to a list of point attributes."]})}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["If the ",(0,s.jsx)(i.code,{children:"r"})," switch is used, ",(0,s.jsx)(i.code,{children:"trianglelist"})," must point to a list of triangles, and ",(0,s.jsx)(i.code,{children:"numberoftriangles"}),", ",(0,s.jsx)(i.code,{children:"numberofcorners"}),", and ",(0,s.jsx)(i.code,{children:"numberoftriangleattributes"})," must be properly set. If ",(0,s.jsx)(i.code,{children:"numberoftriangleattributes"})," is not zero, ",(0,s.jsx)(i.code,{children:"triangleattributelist"})," must point to a list of triangle attributes."]}),"\n",(0,s.jsxs)(i.li,{children:["If the ",(0,s.jsx)(i.code,{children:"a"})," switch is used (with no number following), ",(0,s.jsx)(i.code,{children:"trianglearealist"})," must point to a list of triangle area constraints. ",(0,s.jsx)(i.code,{children:"neighborlist"})," may be ignored."]}),"\n",(0,s.jsxs)(i.li,{children:["If the ",(0,s.jsx)(i.code,{children:"p"})," switch is used, ",(0,s.jsx)(i.code,{children:"segmentlist"})," must point to a list of segments, ",(0,s.jsx)(i.code,{children:"numberofsegments"})," must be properly set, and ",(0,s.jsx)(i.code,{children:"segmentmarkerlist"})," must either be set to NULL (in which case all markers default to zero), or must point to a list of markers."]}),"\n",(0,s.jsxs)(i.li,{children:["If the ",(0,s.jsx)(i.code,{children:"p"})," switch is used without the ",(0,s.jsx)(i.code,{children:"r"})," switch, then ",(0,s.jsx)(i.code,{children:"numberofholes"})," and ",(0,s.jsx)(i.code,{children:"numberofregions"})," must be properly set. If ",(0,s.jsx)(i.code,{children:"numberofholes"})," is not zero, ",(0,s.jsx)(i.code,{children:"holelist"})," must point to a list of holes. If ",(0,s.jsx)(i.code,{children:"numberofregions"})," is not zero, ",(0,s.jsx)(i.code,{children:"regionlist"})," must point to a list of region constraints."]}),"\n",(0,s.jsxs)(i.li,{children:["If the ",(0,s.jsx)(i.code,{children:"p"})," switch is used, ",(0,s.jsx)(i.code,{children:"holelist"}),", ",(0,s.jsx)(i.code,{children:"numberofholes"}),", ",(0,s.jsx)(i.code,{children:"regionlist"}),", and ",(0,s.jsx)(i.code,{children:"numberofregions"})," is copied to ",(0,s.jsx)(i.code,{children:"out"}),". (You can nonetheless get away with not initializing them if the ",(0,s.jsx)(i.code,{children:"r"})," switch is used.)"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"edgelist"}),", ",(0,s.jsx)(i.code,{children:"edgemarkerlist"}),", ",(0,s.jsx)(i.code,{children:"normlist"}),", and ",(0,s.jsx)(i.code,{children:"numberofedges"})," may be ignored."]}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"out",children:"Out"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pointlist"})," must be initialized (NULL or pointing to memory) unless the ",(0,s.jsx)(i.code,{children:"N"})," switch is used."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pointmarkerlist"})," must be initialized unless the ",(0,s.jsx)(i.code,{children:"N"})," or ",(0,s.jsx)(i.code,{children:"B"})," switch is used."]}),"\n",(0,s.jsxs)(i.li,{children:["If ",(0,s.jsx)(i.code,{children:"N"})," is not used and ",(0,s.jsx)(i.code,{children:"in->numberofpointattributes"})," is not zero, ",(0,s.jsx)(i.code,{children:"pointattributelist"})," must be initialized."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"trianglelist"})," must be initialized unless the ",(0,s.jsx)(i.code,{children:"E"})," switch is used. ",(0,s.jsx)(i.code,{children:"neighborlist"})," must be initialized if the ",(0,s.jsx)(i.code,{children:"n"})," switch is used. If the ",(0,s.jsx)(i.code,{children:"E"})," switch is not used and (",(0,s.jsx)(i.code,{children:"in->numberofelementattributes"})," is not zero or the ",(0,s.jsx)(i.code,{children:"A"})," switch is used), ",(0,s.jsx)(i.code,{children:"elementattributelist"})," must be initialized. ",(0,s.jsx)(i.code,{children:"trianglearealist"})," may be ignored."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"segmentlist"})," must be initialized if the ",(0,s.jsx)(i.code,{children:"p"})," or ",(0,s.jsx)(i.code,{children:"c"})," switch is used, and the ",(0,s.jsx)(i.code,{children:"P"})," switch is not used."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"segmentmarkerlist"})," must also be initialized under these circumstances unless the ",(0,s.jsx)(i.code,{children:"B"})," switch is used."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"edgelist"})," must be initialized if the ",(0,s.jsx)(i.code,{children:"e"})," switch is used. ",(0,s.jsx)(i.code,{children:"edgemarkerlist"})," must be initialized if the ",(0,s.jsx)(i.code,{children:"e"})," switch is used and the ",(0,s.jsx)(i.code,{children:"B"})," switch is not."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"holelist"}),", ",(0,s.jsx)(i.code,{children:"regionlist"}),", ",(0,s.jsx)(i.code,{children:"normlist"}),", and all scalars may be ignored."]}),"\n",(0,s.jsx)(i.li,{}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"vorout",children:"Vorout"}),"\n",(0,s.jsxs)(i.p,{children:[(0,s.jsx)(i.code,{children:"vorout"})," (only needed if ",(0,s.jsx)(i.code,{children:"v"})," switch is used):"]}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"pointlist"})," must be initialized. If ",(0,s.jsx)(i.code,{children:"in->numberofpointattributes"})," is not zero, ",(0,s.jsx)(i.code,{children:"pointattributelist"})," must be initialized. ",(0,s.jsx)(i.code,{children:"pointmarkerlist"})," may be ignored."]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.code,{children:"edgelist"})," and ",(0,s.jsx)(i.code,{children:"normlist"})," must both be initialized. ",(0,s.jsx)(i.code,{children:"edgemarkerlist"})," may be ignored."]}),"\n",(0,s.jsx)(i.li,{children:"Everything else may be ignored."}),"\n"]}),"\n",(0,s.jsx)(i.h2,{id:"final-comments",children:"Final comments"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["After a call to triangulate(), the valid fields of ",(0,s.jsx)(i.code,{children:"out"})," and",(0,s.jsx)(i.code,{children:"vorout"})," will depend, in an obvious way, on the choice of switches used."]}),"\n",(0,s.jsxs)(i.li,{children:["Note that when the ",(0,s.jsx)(i.code,{children:"p"})," switch is used, the pointers ",(0,s.jsx)(i.code,{children:"holelist"})," and ",(0,s.jsx)(i.code,{children:"regionlist"})," are copied from ",(0,s.jsx)(i.code,{children:"in"})," to ",(0,s.jsx)(i.code,{children:"out"}),", but no new space is allocated; be careful that you don't free() the same array twice."]}),"\n",(0,s.jsxs)(i.li,{children:["On the other hand, Triangle will never copy the ",(0,s.jsx)(i.code,{children:"pointlist"})," pointer (or any others); new space is allocated for ",(0,s.jsx)(i.code,{children:"out->pointlist"}),", or if the ",(0,s.jsx)(i.code,{children:"N"})," switch is used, ",(0,s.jsx)(i.code,{children:"out->pointlist"})," remains uninitialized."]}),"\n",(0,s.jsxs)(i.li,{children:["All of the meaningful ",(0,s.jsx)(i.code,{children:"numberof"})," fields will be properly set; for instance,",(0,s.jsx)(i.code,{children:"numberofedges"})," will represent the number of edges in the triangulation whether or not the edges were written. If segments are not used, ",(0,s.jsx)(i.code,{children:"numberofsegments"})," will indicate the number of boundary edges."]}),"\n"]})]})}function h(e={}){const{wrapper:i}={...(0,o.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(a,{...e})}):a(e)}},54213:(e,i,n)=>{n.d(i,{R:()=>r,x:()=>l});var t=n(36672);const s={},o=t.createContext(s);function r(e){const i=t.useContext(o);return t.useMemo((function(){return"function"==typeof e?e(i):{...i,...e}}),[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:r(e.components),t.createElement(o.Provider,{value:i},e.children)}}}]);