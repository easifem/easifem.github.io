"use strict";(self.webpackChunkeasifem_docs=self.webpackChunkeasifem_docs||[]).push([[64303],{28947:(n,e,a)=>{a.d(e,{Ay:()=>d,RM:()=>s});var i=a(23420),t=a(54213),r=a(68913);const o='!> author: Vikas Sharma, Ph. D.\n! da\fte: 2025-05-11\n! summary:  Initiate an instance of DirichletBC\n!\n! In this example we initiate an instance of [DirichletBC](/docs-api/DirichletBC) by using the\n![UserFunction](/docs-api/UserFunction).\n!\n! The user function will be configured to give space-dependent value.\n! In other words, we implement following boundary condition.\n!\n! $$\n! u = g(x, y, z)\n! $$\n!\n! We will define a pointer to `UserFunction_` and then call [Set](/docs-api/AbstractBC/Set) method.\n! Then, the `Set` method will point to the user supplied `UserFunction`.\n!\nPROGRAM main\nUSE easifemBase\nUSE easifemClasses\nIMPLICIT NONE\n\nCHARACTER(*), PARAMETER :: myName = "main"\nCHARACTER(*), PARAMETER :: modName = "main"\nTYPE(DirichletBC_) :: obj\nTYPE(MeshSelection_) :: boundary\nTYPE(ParameterList_) :: param\nTYPE(Domain_) :: dom\nTYPE(HDF5File_) :: domainfile\nCLASS(UserFunction_), POINTER :: func\nCHARACTER(*), PARAMETER :: domainfilename = "./mesh3D.h5"\nINTEGER(I4B) :: bottom = 1, top = 2, left = 3, right = 4,  &\n  & front = 5, behind = 6, nsd\nINTEGER(I4B), ALLOCATABLE :: nodeNum(:)\nREAL(DFP), ALLOCATABLE :: nodalValue(:, :)\nPROCEDURE(iface_ScalarFunction), POINTER :: scalarFunction => NULL()\n\nCALL FPL_Init; CALL param%Initiate()\nCALL domainfile%Initiate(filename=domainfilename, mode="READ")\nCALL domainfile%OPEN()\nCALL dom%Initiate(domainfile, group="")\nnsd = dom%GetNSD()\n\nCALL SetAbstractBCParam(param=param, prefix=obj%GetPrefix(),  &\n  & name="ZeroBC", idof=1, nodalValueType=Space, isUserFunction=.TRUE.)\n\nCALL SetMeshSelectionParam(param=param, prefix=boundary%GetPrefix(),  &\n  & isSelectionByMeshID=.TRUE.)\n\nCALL SetUserFunctionParam(param=param, name="bc", returnType=Scalar,  &\n  & argType=Space)\n\nCALL boundary%Initiate(param)\nCALL boundary%Add(dom=dom, dim=nsd - 1, meshID=[top])\nCALL boundary%Set()\n\nCALL obj%Initiate(param=param, boundary=boundary, dom=dom)\n\nALLOCATE (func)\nCALL func%Initiate(param)\nscalarFunction => func1\nCALL func%Set(scalarFunction=scalarFunction)\n\nCALL obj%Set(userFunction=func)\n\nCALL obj%Get(nodeNum=nodeNum, nodalValue=nodalValue)\n\nCALL Display(nodeNum, "nodeNum", advance="NO")\nCALL Display(nodalValue, "nodalValue", advance="YES")\n\nCALL domainfile%DEALLOCATE()\nCALL dom%DEALLOCATE()\nCALL param%DEALLOCATE(); CALL FPL_Finalize\n\nCONTAINS\nPURE FUNCTION func1(x) RESULT(ans)\n  REAL(DFP), OPTIONAL, INTENT(IN) :: x(:)\n  REAL(DFP) :: ans\n  ans = x(1) + x(2) + x(3)\nEND FUNCTION func1\nEND PROGRAM main\n',s=[];function c(n){return(0,i.jsx)(r.A,{language:"fortran",children:o})}function d(n={}){const{wrapper:e}={...(0,t.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(c,{...n})}):c()}},29764:(n,e,a)=>{a.r(e),a.d(e,{assets:()=>d,contentTitle:()=>c,default:()=>l,frontMatter:()=>s,metadata:()=>i,toc:()=>m});const i=JSON.parse('{"id":"programming-fem/dirichletBC/dbc_userfunc_space","title":"Space user function","description":"","source":"@site/docs/guides/programming-fem/dirichletBC/dbc_userfunc_space.md","sourceDirName":"programming-fem/dirichletBC","slug":"/programming-fem/dirichletBC/dbc_userfunc_space","permalink":"/guides/programming-fem/dirichletBC/dbc_userfunc_space","draft":false,"unlisted":false,"editUrl":"https://github.com/easifem/easifem.github.io/tree/main/docs/guides/programming-fem/dirichletBC/dbc_userfunc_space.md","tags":[],"version":"current","lastUpdatedAt":1724304782000,"sidebarPosition":3,"frontMatter":{"sidebar_position":3},"sidebar":"tutorialSidebar","previous":{"title":"Constant user function","permalink":"/guides/programming-fem/dirichletBC/dbc_userfunc_const"},"next":{"title":"Import from toml-file","permalink":"/guides/programming-fem/dirichletBC/dbc_toml_const"}}');var t=a(23420),r=a(54213),o=a(28947);const s={sidebar_position:3},c="Space user function",d={},m=[...o.RM];function u(n){const e={h1:"h1",header:"header",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.header,{children:(0,t.jsx)(e.h1,{id:"space-user-function",children:"Space user function"})}),"\n","\n",(0,t.jsx)(o.Ay,{})]})}function l(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(u,{...n})}):u(n)}}}]);