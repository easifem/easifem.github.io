"use strict";(self.webpackChunkeasifem_docs=self.webpackChunkeasifem_docs||[]).push([[78509],{46212:(e,n,l)=>{l.r(n),l.d(n,{assets:()=>r,contentTitle:()=>o,default:()=>c,frontMatter:()=>d,metadata:()=>s,toc:()=>t});const s=JSON.parse('{"id":"GmshAPI/GmshModelGeo_test_1","title":"GmshModelGeo example 1","description":"In this example we test following methods:","source":"@site/docs/docs-api/GmshAPI/GmshModelGeo_test_1.md","sourceDirName":"GmshAPI","slug":"/GmshAPI/GmshModelGeo_test_1","permalink":"/docs-api/GmshAPI/GmshModelGeo_test_1","draft":false,"unlisted":false,"editUrl":"https://github.com/easifem/easifem.github.io/tree/main/docs/docs-api/GmshAPI/GmshModelGeo_test_1.md","tags":[{"inline":true,"label":"Gmsh/Initialize","permalink":"/docs-api/tags/gmsh-initialize"},{"inline":true,"label":"GmshModel/Add","permalink":"/docs-api/tags/gmsh-model-add"},{"inline":true,"label":"GmshModel/SetFileName","permalink":"/docs-api/tags/gmsh-model-set-file-name"},{"inline":true,"label":"GmshModelGeo/SetFileName","permalink":"/docs-api/tags/gmsh-model-geo-set-file-name"},{"inline":true,"label":"GmshModelGeo/AddPoint","permalink":"/docs-api/tags/gmsh-model-geo-add-point"},{"inline":true,"label":"GmshModelGeo/AddLine","permalink":"/docs-api/tags/gmsh-model-geo-add-line"},{"inline":true,"label":"GmshModelGeo/AddCurveLoop","permalink":"/docs-api/tags/gmsh-model-geo-add-curve-loop"},{"inline":true,"label":"GmshModelGeo/AddPlaneSurface","permalink":"/docs-api/tags/gmsh-model-geo-add-plane-surface"},{"inline":true,"label":"GmshModelGeo/Synchronize","permalink":"/docs-api/tags/gmsh-model-geo-synchronize"}],"version":"current","lastUpdatedAt":1724304782000,"frontMatter":{"author":"Vikas Sharma, Ph.D.","date":"9 Nov 2022","tags":["Gmsh/Initialize","GmshModel/Add","GmshModel/SetFileName","GmshModelGeo/SetFileName","GmshModelGeo/AddPoint","GmshModelGeo/AddLine","GmshModelGeo/AddCurveLoop","GmshModelGeo/AddPlaneSurface","GmshModelGeo/Synchronize"]},"sidebar":"tutorialSidebar","previous":{"title":"GmshModelGeo","permalink":"/docs-api/GmshAPI/GmshModelGeo_"},"next":{"title":"GmshModelGeo example 2","permalink":"/docs-api/GmshAPI/GmshModelGeo_test_2"}}');var a=l(23420),i=l(54213);const d={author:"Vikas Sharma, Ph.D.",date:"9 Nov 2022",tags:["Gmsh/Initialize","GmshModel/Add","GmshModel/SetFileName","GmshModelGeo/SetFileName","GmshModelGeo/AddPoint","GmshModelGeo/AddLine","GmshModelGeo/AddCurveLoop","GmshModelGeo/AddPlaneSurface","GmshModelGeo/Synchronize"]},o="GmshModelGeo example 1",r={},t=[{value:"Usage",id:"usage",level:2}];function h(e){const n={code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",ul:"ul",...(0,i.R)(),...e.components};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(n.header,{children:(0,a.jsx)(n.h1,{id:"gmshmodelgeo-example-1",children:"GmshModelGeo example 1"})}),"\n",(0,a.jsx)(n.p,{children:"In this example we test following methods:"}),"\n",(0,a.jsx)(n.p,{children:"In this example we create a square geometry and mesh."}),"\n",(0,a.jsx)(n.h2,{id:"usage",children:"Usage"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"PROGRAM main\nUSE easifemBase\nUSE easifemClasses\nIMPLICIT NONE\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"  TYPE( gmsh_ ) :: gmsh\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"Instance of [[Gmsh_]]."}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"  INTEGER( I4B ) :: ierr, tag\n  REAL( DFP ), PARAMETER :: LENGTH=1.0, WIDTH=1.0\n  REAL( DFP ) :: x, y, z, meshSize\n  CHARACTER( LEN = 120 ), ALLOCATABLE :: names( : )\n  CHARACTER( LEN = 120 ) :: name\n"})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "Gmsh/Initialize"'}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"[[Gmsh_#Initialize]]"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"  ierr = gmsh%initialize()\n"})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"[[GmshModel_#Add]]"}),"\n",(0,a.jsx)(n.li,{children:"[[GmshModel_#SetFileName]]"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"  ierr = gmsh%model%add(\"t1\")\n  ierr = gmsh%model%setFileName('t1.geo')\n"})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "GmshModelGeo/AddPoint"\n[[GmshModelGeo_#AddPoint]]'}),"\n",(0,a.jsx)(n.p,{children:"Point-1: Specifying tag explicitly"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  x = 0.0; y = 0.0; z = 0.0; meshSize = 0.01; tag=1\n  ierr = gmsh%model%geo%addPoint(x,y,z,meshSize,tag)\n  call ok(ierr .NE. 0_I4B, "(a) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:"Point-2: Not Specifying the tag:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  x = LENGTH; y = 0.0; z = 0.0; meshSize = 0.01\n  tag = gmsh%model%geo%addPoint(x,y,z,meshSize)\n  call ok(tag .eq. 2_I4B, "(b) ")\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Point-3: Setting ",(0,a.jsx)(n.code,{children:"tag=-1"})," equivalent to not specifying the tag explicitly."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  x = LENGTH; y = WIDTH; z = 0.0; meshSize = 0.01; tag=-1\n  ierr = gmsh%model%geo%addPoint(x,y,z,meshSize,tag)\n  call ok(ierr .eq. 3_I4B, "(c) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:"Point-4: Specifying tag explicitly."}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  x = 0.0; y = WIDTH; z = 0.0; meshSize = 0.01; tag=4\n  ierr = gmsh%model%geo%addPoint(x,y,z,meshSize,tag)\n  call ok(ierr .NE. 0_I4B, "(d) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "GmshModelGeo/AddLine"\n[[GmshModelGeo_#AddLine]]'}),"\n",(0,a.jsx)(n.p,{children:"Line-1: explicit tag"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  ierr = gmsh%model%geo%addLine(startTag=1,endTag=2,tag=1)\n  call ok(ierr .NE. 0_I4B, "(e) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:"Line-2: automatic tag"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  tag = gmsh%model%geo%addLine(2,3)\n  call ok(tag .EQ. 2_I4B, "(f) ")\n'})}),"\n",(0,a.jsxs)(n.p,{children:["Line-3: if ",(0,a.jsx)(n.code,{children:"tag=-1"})," it means automatic tag."]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  tag = gmsh%model%geo%addLine(3,4,-1)\n  call ok(tag .EQ. 3_I4B, "(f) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:"Line-4:"}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  ierr = gmsh%model%geo%addLine(4,1,4)\n  call ok(ierr .NE. 0_I4B, "(g) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "GmshModelGeo/AddCurveLoop"\n[[GmshModelGeo_#AddCurveLoop]]'}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"reorient"})," is optional, default value is false."]}),"\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"tag"})," is optional"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  ierr = gmsh%model%geo%addCurveLoop( &\n    & curveTags=[1,2,3,4], tag=1, reorient=.TRUE.)\n  call ok(ierr .NE. 0_I4B, "(h) ")\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"automatic tag example:"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txt",children:'  tag = gmsh%model%geo%addCurveLoop( &\n    & curveTags=[1,2,3,4], reorient=.TRUE.)\n  call ok(tag .EQ. 1_I4B, "(h) ")\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["automatic tag, without ",(0,a.jsx)(n.code,{children:"reorient"})," option:"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txt",children:'  tag = gmsh%model%geo%addCurveLoop( &\n    & curveTags=[1,2,3,4])\n  call ok(tag .EQ. 1_I4B, "(h) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "GmshModelGeo/AddPlaneSurface"'}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsx)(n.p,{children:"[[GmshModelGeo_#AddPlaneSurface]]"}),"\n"]}),"\n",(0,a.jsxs)(n.li,{children:["\n",(0,a.jsxs)(n.p,{children:[(0,a.jsx)(n.code,{children:"tag"})," is explicitly given."]}),"\n"]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:'  ierr = gmsh%model%geo%addPlaneSurface(wireTags=[1], tag=1)\n  call ok(ierr .NE. 0_I4B, "(i) ")\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:[(0,a.jsx)(n.code,{children:"tag"})," is automatically set by gmsh."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txt",children:'  tag = gmsh%model%geo%addPlaneSurface(wireTags=[1])\n  call ok(tag .EQ. 1_I4B, "(i) ")\n'})}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsxs)(n.li,{children:["if ",(0,a.jsx)(n.code,{children:"tag=-1"}),", then tag is automatically set by gmsh."]}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-txt",children:'  ierr = gmsh%model%geo%addPlaneSurface(wireTags=[1], tag=-1)\n  call ok(ierr .EQ. 1_I4B, "(i) ")\n'})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "GmshModelGeo/Synchronize"\n[[GmshModelGeo_#Synchronize]]'}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"ierr = gmsh%model%geo%Synchronize()\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-todo",children:'ierr = gmsh%model%geo%AddPhysicalGroup(1, [1], 1)\nierr = gmsh%model%SetPhysicalName(dim=1, tag=1, name="bottom" )\nierr = gmsh%model%geo%AddPhysicalGroup(1, [2], 2)\nierr = gmsh%model%SetPhysicalName(dim=1, tag=2, name="right" )\nierr = gmsh%model%geo%AddPhysicalGroup(1, [3], 3)\nierr = gmsh%model%SetPhysicalName(dim=1, tag=3, name="top" )\nierr = gmsh%model%geo%AddPhysicalGroup(1, [4], 4)\nierr = gmsh%model%SetPhysicalName(dim=1, tag=4, name="left" )\nierr = gmsh%model%geo%AddPhysicalGroup(2, [1], 1)\nierr = gmsh%model%SetPhysicalName(2, 1, "omega" )\nierr = gmsh%model%remove()\nierr = gmsh%clear()\n'})}),"\n",(0,a.jsx)(n.p,{children:'!!! note "Gmsh/Finalize"'}),"\n",(0,a.jsxs)(n.ul,{children:["\n",(0,a.jsx)(n.li,{children:"[[Gmsh_#Finalize]]"}),"\n"]}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"  ierr = gmsh%finalize()\n"})}),"\n",(0,a.jsx)(n.pre,{children:(0,a.jsx)(n.code,{className:"language-fortran",children:"END PROGRAM main\n"})})]})}function c(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,a.jsx)(n,{...e,children:(0,a.jsx)(h,{...e})}):h(e)}},54213:(e,n,l)=>{l.d(n,{R:()=>d,x:()=>o});var s=l(36672);const a={},i=s.createContext(a);function d(e){const n=s.useContext(i);return s.useMemo((function(){return"function"==typeof e?e(n):{...n,...e}}),[n,e])}function o(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(a):e.components||a:d(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);